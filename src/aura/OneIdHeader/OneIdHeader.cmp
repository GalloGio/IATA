<aura:component extends="c:Base" implements="forceCommunity:availableForAllPageTypes,force:hasRecordId,force:appHostable" access="global">

    <aura:attribute type="String" name="greeting" default="OneId" access="global" />

    <aura:attribute type="Boolean" name="loaded" default="false" />
	
    <aura:attribute type="String" name="vfHost" default=""/>	
	<aura:attribute type="String" name="serviceName" default="" />
    
    <aura:attribute type="List" name="langPickerOptions" />
    <aura:attribute type="String" name="selectedLanguage" default="en_US" />

    <aura:handler name="init" value="{!this}" action="{!c.doInit}" />    
    <aura:registerEvent name="fetchParams" type="c:oneIdURLParams"/>
	<aura:handler event="c:oneIdURLParams" action="{!c.renderPage}"/>
	
	<aura:if isTrue="{!v.loaded}">

		<div class="oiHeader slds-grid slds-wrap slds-grid_align-spread">

			<div class="slds-col slds-max-small-size_1-of-1" id="suiteBar">
		        <a class="homeIcon" href="{!'/' + empty(v.serviceName) ? $Label.c.OneId_Community_Name : v.serviceName}">
		            <span class="icon icon-logo"></span>
		            <span class="{!'subLogo' + v.serviceName}"></span>
		        </a>
		    </div>

            <div class="slds-col slds-max-small-size_1-of-1 slds-align-bottom slds-p-horizontal_large">
                <aura:if isTrue="{!equals(v.serviceName, 'ISSP')}">
                    <lightning:select class="noLabel" value="{!v.selectedLanguage}" onchange="{!c.langPickerChange}">
                        <aura:iteration items="{!v.langPickerOptions}" var="item">
                            <option text="{!item.label}" value="{!item.value}" selected="{!item.selected}"/>
                        </aura:iteration>
                    </lightning:select>
                </aura:if>
            </div>

			<div id="headerBar">&nbsp;</div>
		</div>
    	
        <aura:set attribute="else">
            <lightning:spinner variant="brand" size="large"/>
        </aura:set>
    </aura:if>
</aura:component>