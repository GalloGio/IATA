<aura:component controller="PowerBI_Embedded_Container_CTRL" description="PowerBI_Embedded_Container">

    <aura:attribute name="dashboardCategories" type="List" />
    <aura:attribute name="selectedDashboardCategory" type="List"/>

    <!--SHOW ATTRIBUTES-->
    <aura:attribute name="showDashboardCategory" type="Boolean" default="false"/>
    <aura:attribute name="showCategories" type="Boolean" default="true"/>
    <aura:attribute name="showDashboard" type="Boolean" default="false"/>
    <aura:attribute name="showSpinner" type="Boolean" default="false"/>

    <!--EVENTS-->
    <aura:handler name="backListEvent" event="c:PowerBI_Embedded_Dashboard_List_Back_EVT" action="{!c.backEvent}"/>

    <!--HANDLERS-->
    <aura:handler name="init" value="{!this}" action="{!c.init}" />

    <div class="body_container">

        <aura:if isTrue="{! v.showCategories}">

            <aura:if isTrue="{! v.dashboardCategories.length > 0}">

                <h3>Dashboard categories</h3>

                <ul class="IATA_UlLi">

                    <aura:iteration items="{! v.dashboardCategories}" var="category" indexVar="key">

                        <li>
                            <a id="{! key}" onclick="{! c.showDashboardCategory}">{! category.key}</a>
                        </li>

                    </aura:iteration>

                </ul>

            </aura:if>


        </aura:if>



        <aura:if isTrue="{! v.showDashboardCategory}">

            <c:PowerBI_Embedded_Dashboard_List dashboards="{! v.selectedDashboardCategory}"/>

        </aura:if>



        <!--SPINNER-->
        <aura:if isTrue="{! v.showSpinner}">

            <lightning:spinner alternativeText="Loading..."/>

        </aura:if>


    </div>

</aura:component>