<aura:component description="PowerBI_Embedded_Dashboard_List">

    <aura:attribute name="dashboards" type="List"/>
    <aura:attribute name="selectedDashboard" type="Object"/>

    <!--SHOW ATTRIBUTES-->
    <aura:attribute name="showDashboards" type="Boolean" default="true"/>
    <aura:attribute name="showSpinner" type="Boolean" default="false"/>

    <!--EVENTS-->
    <aura:registerEvent name="backListEvent" type="c:PowerBI_Embedded_Dashboard_List_Back_EVT"/>
    <aura:handler name="backEvent" event="c:PowerBI_Embedded_Dashboard_Back_EVT" action="{!c.backEvent}"/>

    <aura:attribute name="cssStyle" type="String" />
    <style>{!v.cssStyle}</style>

    <aura:handler name="init" value="{! this}" action="{! c.init}"/>
    <lightning:overlayLibrary aura:id="overlayLib"/>
    <div class="slds-container--fluid">

        <aura:if isTrue="{! v.showDashboards}">

            <h3>Dashboards</h3>

            <ul class="IATA_UlLi">

                <aura:iteration items="{! v.dashboards}" var="dashboard" indexVar="key">

                    <li>
                        <a id="{! key}" onclick="{! c.show}">{! dashboard.Name}</a>
                    </li>

                </aura:iteration>
            </ul>
            <div class="back_button">
                <button class="btn btn-primary btn-grey" onclick="{! c.listBack}">Back</button>
            </div>

        </aura:if>

        <aura:if isTrue="{! v.showSpinner}">
            <lightning:spinner alternativeText="Loading"/>
        </aura:if>


    </div>

</aura:component>