<aura:component implements="forceCommunity:availableForAllPageTypes,force:hasRecordId,force:appHostable" access="global" controller="LightningConnectedAppHelper">
<aura:handler name="init" value="{!this}" action="{!c.initialize}" />
<aura:attribute name="showPopup" type="Boolean" default="false"/>
<aura:attribute name="showRoles" type="Boolean" default="false"/>
<aura:attribute name="pages" type="Integer[]" />
<aura:attribute name="appNames" type="String[]" />
<aura:attribute name="roles" type="Object" />
<aura:attribute name="activeApp" type="String" />
<aura:attribute name="activeAppPic" type="String" />
<aura:attribute name="activeAppDescription" type="String" />
<aura:attribute name="activePage" type="Integer" default="0"/>
<aura:attribute name="selectedRole" type="String" />
<aura:attribute name="submitDisabled" type="Boolean" default="false"/>


<div class="slds">
    <div id="launcher" class="launcher">
        <lightning:buttonIcon iconName="utility:apps" variant="bare" onclick="{! c.handleClick }" alternativeText="Launch picker" size="large"/>
        {!$Label.c.issp_apppicker_new_application}
    </div>
<div class="modal-glass  fadein slds-backdrop--open"   aura:id="backdrop"></div>
<div class="slds-grid slds-grid--align-center">

    <aura:if isTrue="{!v.showPopup}">
        <!-- <div id="popup" class=""> -->

            <div class="slds-size--1-of-1 slds-medium-size--10-of-12 slds-large-size--1-of-2 popup ">
        <lightning:buttonIcon iconName="utility:close" variant="bare" onclick="{! c.handleClose }" alternativeText="Close picker" size="large" class="closebutton"/>
        <aura:if isTrue="{!!v.showRoles}">
            <lightning:buttonIcon iconName="utility:chevronleft" variant="bare" onclick="{! c.pagePrevious }" alternativeText="Close picker" size="large" class="leftarrow"/>
            <lightning:buttonIcon iconName="utility:chevronright" variant="bare" onclick="{! c.pageNext }" alternativeText="Close picker" size="large" class="rightarrow"/>
            <div class="slds-text-heading--large">{!$Label.c.issp_apppicker_request_new_application}</div>
<div class="  slds-p-horizontal--small slds-size--1-of-1">
            <div class="slds-grid slds-wrap slds-grid--pull-padded slds-grid--align-center slds-grid--vertical-align-center verticalMiddle">
                <div class="appcard slds-size--10-of-12 slds-medium-size--10-of-12 slds-large-size--7-of-12">
                    <img src="{!v.activeAppPic}" class="appImage"/>
                    <ui:outputText click="{!c.showRoles}" value="{!v.activeApp}" />
                </div>
                <div class="slds-size--10-of-12 slds-medium-size--10-of-12 slds-large-size--7-of-12 ">
                    <ui:outputText value="{!v.activeAppDescription}" />
                </div>
            </div>
            </div>


                    <div class="bottomnavigation">

                        <aura:iteration items="{!v.appNames}" var="page" indexVar="index" aura:id="pagedots">
                            <div class="dotWrapper">
                                <ui:outputText class="{! v.activePage==index ? 'pageDot active' : 'pageDot inactive'}" click="{!c.changePage}" value="{!index}">&#9679;</ui:outputText>
                            </div>
                        </aura:iteration>
                    </div>
                    <!-- </div> -->
                    <aura:set attribute="else">
                        <div class="slds-text-heading--large">{!$Label.c.issp_apppicker_select_role}</div>
                        <!-- <div class="appRoles "> -->
                        <div class="slds-grid slds-wrap ">
                            <aura:iteration items="{!v.roles}" var="role" indexVar="index">
                                <div class="{!index%2==1 ? 'odd' : 'even'}">
                                    <div class="slds-p-horizontal--small slds-size--1-of-1 slds-medium-size--1-of-6 slds-large-size--1-of-6">
                                        <label class="uiLabel-left form-element__label uiLabel">

                                        <ui:inputRadio name="role"  aura:id="roleOptions" label="" click="{!c.clickRadio}"/><!--  -->
                                        <span>{!role.Role__c}</span>
                                    </label>
                                        <!-- <label>{!role.Role__c}</label> -->
                                    </div>

                                    <div class="slds-p-horizontal--small slds-size--1-of-1 slds-medium-size--4-of-6 slds-large-size--4-of-6">
                                        {!role.Description__c}
                                    </div>
                                </div>
                            </aura:iteration>
                        </div>

                        <div>
                            <ui:button label="{!$Label.c.ISSP_Back}" press="{!c.hideRoles}"/>
                            <ui:button label="{!$Label.c.ISSP_Submit}" press="{!c.submitRequest}" disabled="{!v.submitDisabled}"/>
                        </div>

                    </aura:set>
                </aura:if>


            </div>
    </aura:if>

</div>
</div>
</aura:component>