<template>
	<lightning-layout multiple-rows="true" if:true={isRoot}>
		<template for:each={fieldList} for:item="fieldset">
			<lightning-layout-item key={fieldset.id} size={outerColsSize}>            
                <lightning-layout multiple-rows="true">
                    <template for:each={fieldset.fields} for:item="field">
                        <lightning-layout-item key={field._key} if:true={field._visible} size={field._colSize} class={field._padding}>
							<c-iata-picklist
								if:true={field._isPicklist}
								multi-select={field._isMultiSelectPicklist}
								pill-filters={field.pillFilters}
								pill-filters-collapsible={field.pillFiltersCollapsible}
								template-ratio={field.templateRatio}
								display-vertical={field.displayVertical}
								name={field.name}
								label={field.label}
								title={field.title}
								options={field._options}
								value={field.value}
								required={field.required}
								disabled={field.disabled}
								onchange={handleChange}
								onpicklistopen={handlepicklistopen}
								placeholder={field.placeholder}
								class={field.class}
								></c-iata-picklist>
							<lightning-dual-listbox	
								if:true={field._isDualListbox}
								name={field.name}
								label={field.label}
								source-label={field.sourceLabel}
								selected-label={field.selectedLabel}
								field-level-help={field.helpText}
								options={field._options}
								value={field.value}
								required={field.required}
								disabled={field.disabled}
								onchange={handleChange}
								class={field.class}
								></lightning-dual-listbox>
							<c-iata-popup-form	
								if:true={field._isPopupForm}
								name={field.name}
								label={field.label}
								header={field.header}
								value={field.value}
								button-icon={field.buttonIcon}
								button-label={field.buttonLabel}
								button-variant={field.buttonVariant}
								fields={field.formFields}
								form-variant={field.formVariant}
								required={field.required}
								disabled={field.disabled}
								onchange={handleChange}
								class={field.class}
								></c-iata-popup-form>
							<c-iata-radio-group
								if:true={field._isRadioGroup}
								name={field.name}
								label={field.label}
								variant={field.variant}
								tab-full-width={field.tabFullWidth}
								display-horizontal={field.displayHorizontal}
								align-left={field.alignLeft}
								required={field.required}
								disabled={field.disabled}
								options={field.options}
								onchange={handleChange}
								hide-label={field.hideLabel}
								class={field.class}
								></c-iata-radio-group>
							<c-iata-input
								if:true={field._isOpenInput}
								type={field.type}
								name={field.name}
								label={field.label}
								title={field.title}
								hide-label={field.hideLabel}
								value={field.value}
								step={field.step}
								required={field.required}
								disabled={field.disabled}
								onchange={handleChange}
								placeholder={field.placeholder}
								icon={field.icon}
								icon-styling={field.iconStyling}
								clear-button={field.clearButton}
								class={field.class}
								></c-iata-input>
							<c-iata-button
								if:true={field._isButton}
								label={field.label}
								name={field.name}
								variant={field.variant}
								disabled={field.disabled}
								full-width={field.fullWidth}
								height-large={field.heightLarge}
								icon={field.icon}
								icon-size={field.iconSize}
								icon-right={field.iconRight}
								onclick={handleClick}
								></c-iata-button>
                        </lightning-layout-item>
                    </template>
                </lightning-layout>
            </lightning-layout-item>
        </template>
    </lightning-layout>
</template>