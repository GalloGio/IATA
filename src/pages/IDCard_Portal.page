<apex:page cache="true" expires="600" docType="html" title="IATA/IATAN ID Card Online Platform" sidebar="false" showHeader="false" language="{!Language}"  controller="IDCardPortalController" >  

<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<c:IDCard_HeaderComponent />
<title>IATA/IATAN ID Card Online Platform</title>
    <script>
       
        function getSelectedApplicationType(type)
        {           
            if(type == "{!renewal}" && {!isRenewable} == false)
            {
                if ("{!renewalDate}" != "")
                {
                    alert("{!$Label.IDCard_RenewalOptionAllowedMonths} {!$Label.IDCard_RenewalAvailableDate_PopUpMessage} {!renewalDate}");
                    return;
                }
                else
                {
                    alert("{!$Label.IDCard_RenewalOptionAllowedMonths}");   
                    return;
                }   
            }
            if (type == "{!reissue}" && {!isReplacementAvailable} == false)
            {
                alert("{!$Label.IDCard_PortalPage_SubMenu_ReplaceNotActive}");
            }
            else 
            {                  
                next(type);
            }        
        }
    </script>
</head>

<body>
    <div id="page_wrapper">
        <apex:form forceSSL="true" id="idcardForm">
        <!-- Header -->
                <div class="HeaderIMG"> 
                    <table width="100%">
                        <tr>
                            <td><apex:image styleClass="IATALogo" url="{!URLFOR($Resource.IDCard_Styles,'img/IATA_LOGO.png')}" /></td>
                            <td>
                                <div class="select-style">
                                  <apex:actionRegion >
                                     <apex:selectList id="langSelect" value="{!SelectedLanguage}" size="1" required="true">
                                     <apex:selectOptions value="{!LangItems}" />
                                     <apex:actionSupport event="onchange" onsubmit="refreshLanguage()" reRender=""></apex:actionSupport>
                                     </apex:selectList>
                                  </apex:actionRegion>
                                </div>
                            </td>
                         </tr>
                    </table>
                    <h1>{!$Label.IDCard_Landing_Title}</h1>
                </div>
                <div class="background">
                    <br />
                    <apex:pageMessage summary="{!errMsg}" rendered="{!HasError}" severity="error" strength="2" />
                    <br />
                    <div style="width: 1000px; margin: 0 auto;">
                        <apex:actionFunction name="next" action="{!next}" rerender="Msgs">
                            <apex:param name="myaction" value="" />
                        </apex:actionFunction>
        
                        <table cellpadding="20">
                            <tr style="display:{!IF(accountStatusTerminated,'none','')}"> <!--INC183592-->
                                <td align="center" valign="top">
                                    <div class="CardRequestPanel" style="display:{!IF(limited,'none','')}">
                                        <apex:image url="{!URLFOR($Resource.IDCard_Styles,'img/icon-renew.png')}" style="margin-bottom: 20px" />
                                        <h1>{!$Label.IDCard_PortalPage_MenuRenew}</h1>
                                        <p>{!$Label.IDCard_PortalPage_SubMenu_Renew}</p>
                                        <div style="position: absolute; bottom: 0px;">
                                            <a href="#" class="btn-BlueButtonWAR" onclick="getSelectedApplicationType('{!renewal}');">
                                                <span>{!$Label.IDCard_PortalPage_SubMenu_Button_Renew}</span>
                                            </a>
                                        </div>
                                    </div>
                                </td>
                                <td align="center" valign="top">
                                    <div class="CardRequestPanel" style="display:{!IF(limited,'none','')}">
                                        <apex:image url="{!URLFOR($Resource.IDCard_Styles,'img/icon-replace.png')}" style="margin-bottom: 20px" />
                                        <h1>{!$Label.IDCard_PortalPage_MenuReplace}</h1>
                                        <p>{!$Label.IDCard_PortalPage_SubMenu_Replace} </p>
                                        <div style="position: absolute; bottom: 0px;">
                                            <a href="#" class="btn-BlueButtonWAR" onclick="getSelectedApplicationType('{!reissue}');">
                                                <span>{!$Label.IDCard_PortalPage_SubMenu_Button_Replace}</span>
                                            </a>
                                        </div>
                                    </div>
                                </td>
                                <td align="center" valign="top">
                                    <div class="CardRequestPanel">
                                        <apex:image url="{!URLFOR($Resource.IDCard_Styles,'img/icon-request.png')}" style="margin-bottom: 20px" />
                                        <h1>{!$Label.IDCard_PortalPage_MenuChange}</h1>
                                        <p>{!$Label.IDCard_PortalPage_SubMenu_Change}</p>
                                        <div style="position: absolute; bottom: 0px;">
                                            <a href="#" class="btn-BlueButtonWAR" onclick="getSelectedApplicationType('{!replacement}');">
                                                <span>{!$Label.IDCard_PortalPage_SubMenu_Button_Change}</span>
                                            </a>
                                        </div>
                                    </div>
                                </td>
                            </tr>

                            <!--INC183592-->
                            <tr style="display:{!IF(accountStatusTerminated,'','none')}">
                                <td align="left" valign="top">
                                    <div class="CardRequestPanel">
                                        <apex:image url="{!URLFOR($Resource.IDCard_Styles,'img/icon-request.png')}" style="margin-bottom: 20px" />
                                        <h1>{!$Label.IDCard_PortalPage_MenuChange}</h1>
                                        <p>{!$Label.IDCard_PortalPage_SubMenu_Change}</p>
                                        <div style="position: absolute; bottom: 0px;">
                                            <a href="#" class="btn-BlueButtonWAR" onclick="getSelectedApplicationType('{!replacement}');">
                                                <span>{!$Label.IDCard_PortalPage_SubMenu_Button_Change}</span>
                                            </a>
                                        </div>
                                    </div>
                                </td>
                            </tr>
                        </table>
                    </div>
                  </div>
            </apex:form>
    </div>
        
  <c:IDCard_footerComponent />
    
</body>
</apex:page>