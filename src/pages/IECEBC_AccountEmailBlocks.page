<apex:page id="thePage" controller="vfIECEBC_AccountEmailBlocks" applyHtmlTag="false" applyBodyTag="false" sidebar="false" showheader="false" 
	standardStylesheets="false" language="en" docType="html-5.0">
	
	<apex:message id="msg" />
	
	<apex:composition template="IECEBC_Layout">
		<apex:define name="pageHeadAdditions">
			<!-- Start of Page <head> -->
			<title>eBroadcast Email Blocks</title>
			
			<!-- End of Page </head> -->
        </apex:define>
        <apex:define name="pageScriptAdditions">
            <!-- If any page specific .js, add them here -->
            
            <script type="text/javascript">
            $j = jQuery.noConflict();
            
            $j( document ).ready(function( $ ) {
                //startObservingClassMutation();					
            });
            
            // =========================================================================================
            // startObservingClassMutation is used if we want to detect the chage of class of a component
            function startObservingClassMutation() 
            {
                // listener definition on class change
                var observer = new MutationObserver(function(mutations) {
                    mutations.forEach(function(mutation) {
                        if (mutation.attributeName === "class") {
                            console.log("Class attribute from", $j(mutation));
                            var attributeValue = $j(mutation.target).prop(mutation.attributeName);
                            console.log("Class attribute changed to:", attributeValue);
                            
                            if ( !attributeValue.includes('is-open')) {
                                rerenderDataTableForm();
                                console.log( 'rerender data table') ;
                            }
                        }
                    });
                });	
                
                var $div = $j("#actPopUpMenu");
                var obsConfig = { attributes: true, attributeOldValue: true};
                observer.observe($div[0],  obsConfig);
            }
            </script>
            
        </apex:define>
        <apex:define name="pageContent">
            
            <script type="text/javascript">
            function rerenderDataTableForm() {
                console.log( 'rerenderDataTableForm' );
                //rerenderDataTableFormX();
                refreshActivityTable();
                return false;
            }
            </script>
            
            <!-- Start of Page Content -->
            <main class="main-content manage-account">
                <div class="inner-wrapper">
                    <h1 class="page-title">Account Details</h1>
                    
                    <div class="tab-container">
                        <ul class="nav tabs">
                            <li><a href="{!URLFOR($Page.IECEBC_AccountManage)}">Overview</a></li>
                            <li><a href="{!URLFOR($Page.IECEBC_AccountRatePlan)}">Rate plan</a></li>
                            <li><a href="{!URLFOR($Page.IECEBC_AccountExtras)}">Extras</a></li>
                            <li class="active"><a href="{!URLFOR($Page.IECEBC_AccountEmailBlocks)}">Email Blocks</a></li>
                            <li><a href="{!URLFOR($Page.IECEBC_AccountSettings)}">Settings</a></li>
                        </ul>
                        
                        <div class="tab-content">
                            
                            <div class="tab-pane is-open" id="pane-3b">
                                <div class="row row-payment">
                                    
                                    <div class="columns main-container campaign-cost">
                                        <h2 class="heading-2 strong">Purchase additional email blocks</h2>
                                        <p>Nulla vitae elit libero, a pharetra augue. Nullam quis risus eget urna mollis ornare vel eu leo.</p>
                                        <div class="group-container plan">
                                            
                                            <ul class="list js-radio-list">
                                                <li class="is-selected">
                                                    <div class="toggle-container show-hide-toggle">
                                                        <ul class="list package-list js-checkbox-list">
                                                            <li class="list-item disabled">
                                                                <div class="checkbox-box">
                                                                    <div class="custom-user-input checkbox">
                                                                        <span class="disabled-user-input checkbox"></span>
                                                                        <label class="custom-checkbox" for="package-1"><i class="icon"></i></label>
                                                                    </div>
                                                                    <label class="input-label" for="package-1">
                                                                        <span class="input-state unselected">Select</span>
                                                                        <span class="input-state selected">Selected</span>
                                                                    </label>
                                                                    <a href="#" class="tooltip-icon js-tooltip"><i class="fa fa-exclamation-triangle"></i></a>
                                                                    <div class="tooltip-container">
                                                                        <div class="tooltip-description">
                                                                            <p>You can only select email packages above the balance owing.</p>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <div class="package-credits">
                                                                    300                                                                                                                credits
                                                                </div>
                                                                <div class="package-price">$9.00</div>
                                                            </li>
                                                            <li class="list-item disabled">
                                                                <div class="checkbox-box">
                                                                    <div class="custom-user-input checkbox">
                                                                        <span class="disabled-user-input checkbox"></span>
                                                                        <label class="custom-checkbox" for="package-2"><i class="icon"></i></label>
                                                                    </div>
                                                                    <label class="input-label" for="package-2">
                                                                        <span class="input-state unselected">Select</span>
                                                                        <span class="input-state selected">Selected</span>
                                                                    </label>
                                                                    <a href="#" class="tooltip-icon js-tooltip"><i class="fa fa-exclamation-triangle"></i></a>
                                                                    <div class="tooltip-container">
                                                                        <div class="tooltip-description">
                                                                            <p>You can only select email packages above the balance owing.</p>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <div class="package-credits">
                                                                    1,000                                                                                                                credits
                                                                </div>
                                                                <div class="package-price">$30.00</div>
                                                            </li>
                                                            <li class="list-item disabled">
                                                                <div class="checkbox-box">
                                                                    <div class="custom-user-input checkbox">
                                                                        <span class="disabled-user-input checkbox"></span>
                                                                        <label class="custom-checkbox" for="package-3"><i class="icon"></i></label>
                                                                    </div>
                                                                    <label class="input-label" for="package-3">
                                                                        <span class="input-state unselected">Select</span>
                                                                        <span class="input-state selected">Selected</span>
                                                                    </label>
                                                                    <a href="#" class="tooltip-icon js-tooltip"><i class="fa fa-exclamation-triangle"></i></a>
                                                                    <div class="tooltip-container">
                                                                        <div class="tooltip-description">
                                                                            <p>You can only select email packages above the balance owing.</p>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <div class="package-credits">
                                                                    2,000                                                                                                                credits
                                                                </div>
                                                                <div class="package-price">$60.00</div>
                                                            </li>
                                                            <li class="list-item">
                                                                <div class="checkbox-box">
                                                                    <div class="custom-user-input checkbox">
                                                                        <input class="user-input checkbox" type="checkbox" id="package-4" />
                                                                        <label class="custom-checkbox" for="package-4"><i class="icon"></i></label>
                                                                    </div>
                                                                    <label class="input-label" for="package-4">
                                                                        <span class="input-state unselected">Select</span>
                                                                        <span class="input-state selected">Selected</span>
                                                                    </label>
                                                                </div>
                                                                <div class="package-credits">
                                                                    7,500                                                                                                                credits
                                                                </div>
                                                                <div class="package-price">$150.00</div>
                                                            </li>
                                                            <li class="list-item">
                                                                <div class="checkbox-box">
                                                                    <div class="custom-user-input checkbox">
                                                                        <input class="user-input checkbox" type="checkbox" id="package-5" />
                                                                        <label class="custom-checkbox" for="package-5"><i class="icon"></i></label>
                                                                    </div>
                                                                    <label class="input-label" for="package-5">
                                                                        <span class="input-state unselected">Select</span>
                                                                        <span class="input-state selected">Selected</span>
                                                                    </label>
                                                                </div>
                                                                <div class="package-credits">
                                                                    10,000                                                                                                                credits
                                                                </div>
                                                                <div class="package-price">$200.00</div>
                                                            </li>
                                                            <li class="list-item">
                                                                <div class="checkbox-box">
                                                                    <div class="custom-user-input checkbox">
                                                                        <input class="user-input checkbox" type="checkbox" id="package-6" />
                                                                        <label class="custom-checkbox" for="package-6"><i class="icon"></i></label>
                                                                    </div>
                                                                    <label class="input-label" for="package-6">
                                                                        <span class="input-state unselected">Select</span>
                                                                        <span class="input-state selected">Selected</span>
                                                                    </label>
                                                                </div>
                                                                <div class="package-credits">
                                                                    25,000                                                                                                                credits
                                                                </div>
                                                                <div class="package-price">$250.00</div>
                                                            </li>
                                                            <li class="list-item">
                                                                <div class="checkbox-box">
                                                                    <div class="custom-user-input checkbox">
                                                                        <input class="user-input checkbox" type="checkbox" id="package-7" />
                                                                        <label class="custom-checkbox" for="package-7"><i class="icon"></i></label>
                                                                    </div>
                                                                    <label class="input-label" for="package-7">
                                                                        <span class="input-state unselected">Select</span>
                                                                        <span class="input-state selected">Selected</span>
                                                                    </label>
                                                                </div>
                                                                <div class="package-credits">
                                                                    75,000                                                                                                                credits
                                                                </div>
                                                                <div class="package-price">$750.00</div>
                                                            </li>
                                                            <li class="list-item has-promotion">
                                                                <div class="promotion-label">
                                                                    get 10% <br />more
                                                                </div>
                                                                <div class="checkbox-box">
                                                                    <div class="custom-user-input checkbox">
                                                                        <input class="user-input checkbox" type="checkbox" id="package-8" />
                                                                        <label class="custom-checkbox" for="package-8"><i class="icon"></i></label>
                                                                    </div>
                                                                    <label class="input-label" for="package-8">
                                                                        <span class="input-state unselected">Select</span>
                                                                        <span class="input-state selected">Selected</span>
                                                                    </label>
                                                                </div>
                                                                <div class="package-credits">
                                                                    <span class="line-stroke">200,000</span>
                                                                    <span class="text-orange">220,000</span>
                                                                    <br />
                                                                    credits
                                                                </div>
                                                                <div class="package-price">$1,000.00</div>
                                                            </li>
                                                            <li class="list-item">
                                                                <div class="checkbox-box">
                                                                    <div class="custom-user-input checkbox">
                                                                        <input class="user-input checkbox" type="checkbox" id="package-9" />
                                                                        <label class="custom-checkbox" for="package-9"><i class="icon"></i></label>
                                                                    </div>
                                                                    <label class="input-label" for="package-9">
                                                                        <span class="input-state unselected">Select</span>
                                                                        <span class="input-state selected">Selected</span>
                                                                    </label>
                                                                </div>
                                                                <div class="package-credits">
                                                                    375,000                                                                                                                credits
                                                                </div>
                                                                <div class="package-price">$1,875.00</div>
                                                            </li>
                                                        </ul>
                                                    </div>
                                                </li>
                                            </ul>
                                        </div>
                                        
                                        <div class="group-container payment-info">
                                            <h3 class="group-title">Payment information</h3>
                                            <div class="box box-payment-type js-payment-method">
                                                <div class="field-group radio inline">
                                                    <div class="radio-box">
                                                        <div class="custom-user-input radio">
                                                            <input class="user-input radio" type="radio" name="pay-by2" id="pay-by-credit-card2" value="creditCard" checked="" />
                                                            <label class="custom-radio" for="pay-by-credit-card2"><i class="icon"></i></label>
                                                        </div>
                                                        <label class="input-label" for="pay-by-credit-card2">Credit card</label>
                                                    </div>
                                                    <div class="radio-box">
                                                        <div class="custom-user-input radio">
                                                            <input class="user-input radio" type="radio" name="pay-by2" id="pay-by-ich2" value="ich" />
                                                            <label class="custom-radio" for="pay-by-ich2"><i class="icon"></i></label>
                                                        </div>
                                                        <label class="input-label" for="pay-by-ich2">ICH</label>
                                                    </div>
                                                </div>
                                            </div>
                                            
                                            <div class="payment-method-container">
                                                
                                                <table class="data-table table-saved-cards js-card-data-table">
                                                    <tbody><tr class="heading">
                                                        <th class="card">Saved cards</th>
                                                        <th class="name">Name printed on card</th>
                                                        <th class="date" colspan="2">Expires</th>
                                                        </tr>
                                                        <tr class="item is-selected">
                                                            <td class="card">
                                                                <div class="field-group radio">
                                                                    <div class="radio-box">
                                                                        <div class="custom-user-input radio">
                                                                            <input class="user-input radio" type="radio" name="pay-by2-card-type" id="pay-by-credit-card2-saved-card-1" checked="" />
                                                                            <label class="custom-radio" for="pay-by-credit-card2-saved-card-1"><i class="icon"></i></label>
                                                                        </div>
                                                                        <label class="input-label" for="pay-by-credit-card2-saved-card-1">
                                                                            <span class="card-image">
                                                                                <img src="assets/img/components/icons/credit-card/Visa.png" alt="VISA" />
                                                                            </span>
                                                                            <span class="card-name">
                                                                                <strong>VISA</strong>
                                                                                <span class="ending-number">ending in 1234</span>
                                                                            </span>
                                                                        </label>
                                                                    </div>
                                                                </div>
                                                            </td>
                                                            <td class="name">
                                                                Jonathan Doelipsum
                                                            </td>
                                                            <td class="date">
                                                                04/18
                                                            </td>
                                                            <td class="action">
                                                                <a class="js-open-modal" data-target-modal="#js-modal-delete-credit-card" href="#">Remove</a>
                                                            </td>
                                                        </tr>
                                                        <tr class="item">
                                                            <td class="card">
                                                                <div class="field-group radio">
                                                                    <div class="radio-box">
                                                                        <div class="custom-user-input radio">
                                                                            <input class="user-input radio" type="radio" name="pay-by2-card-type" id="pay-by-credit-card2-saved-card-2" />
                                                                            <label class="custom-radio" for="pay-by-credit-card2-saved-card-2"><i class="icon"></i></label>
                                                                        </div>
                                                                        <label class="input-label" for="pay-by-credit-card2-saved-card-2">
                                                                            <span class="card-image">
                                                                                <img src="assets/img/components/icons/credit-card/MasterCard.png" alt="MASTERCARD" />
                                                                            </span>
                                                                            <span class="card-name">
                                                                                <strong>MASTERCARD</strong>
                                                                                <span class="ending-number">ending in 5148</span>
                                                                            </span>
                                                                        </label>
                                                                    </div>
                                                                </div>
                                                            </td>
                                                            <td class="name">
                                                                Milli Max
                                                            </td>
                                                            <td class="date">
                                                                03/17
                                                            </td>
                                                            <td class="action">
                                                                <a class="js-open-modal" data-target-modal="#js-modal-delete-credit-card" href="#">Remove</a>
                                                            </td>
                                                        </tr>
                                                        <tr class="item">
                                                            <td class="card">
                                                                <div class="field-group radio">
                                                                    <div class="radio-box">
                                                                        <div class="custom-user-input radio">
                                                                            <input class="user-input radio" type="radio" name="pay-by2-card-type" id="pay-by-credit-card2-saved-card-3" />
                                                                            <label class="custom-radio" for="pay-by-credit-card2-saved-card-3"><i class="icon"></i></label>
                                                                        </div>
                                                                        <label class="input-label" for="pay-by-credit-card2-saved-card-3">
                                                                            <span class="card-image">
                                                                                <img src="assets/img/components/icons/credit-card/AmericanExpress.png" alt="AMEX" />
                                                                            </span>
                                                                            <span class="card-name">
                                                                                <strong>AMEX</strong>
                                                                                <span class="ending-number">ending in 8957 <i class="text-error">(expired)</i></span>
                                                                            </span>
                                                                        </label>
                                                                    </div>
                                                                </div>
                                                            </td>
                                                            <td class="name">
                                                                Jonathan Doelipsum
                                                            </td>
                                                            <td class="date">
                                                                04/18
                                                            </td>
                                                            <td class="action">
                                                                <a class="js-open-modal" data-target-modal="#js-modal-delete-credit-card" href="#">Remove</a>
                                                            </td>
                                                        </tr>
                                                    </tbody></table>
                                                
                                                <div class="footer table-actions">
                                                    <a class="icon plus js-open-modal" data-target-modal="#js-modal-add-credit-card" href="#">Add card</a>
                                                </div>
                                            </div>
                                        </div>                        </div>
                                    
                                    
                                    <div class="columns sub-container payment-confirmation"  id="paymentconfirmation">
                                        <div class="is-sticky-confirmation" style="">
                                            <div class="wrapper">
                                                <h2 class="section-title">Payment Confirmation</h2>
                                                <div class="table-container">
                                                    <table class="data-table table-payment table-confirmation">
                                                        <tbody><tr class="item">
                                                            <th>
                                                                <strong>100mb</strong> additionnal storage
                                                            </th>
                                                            <td class="price">
                                                                <strong>$50.00</strong>
                                                            </td>
                                                            </tr>
                                                            <tr class="total">
                                                                <th>
                                                                    Total
                                                                </th>
                                                                <td class="price">
                                                                    $50.00 USD
                                                                </td>
                                                            </tr>
                                                        </tbody></table>
                                                </div>
                                                <div class="footer-actions">
                                                    <ul class="list actions">
                                                        <li><a class="text-link" href="#">Cancel</a></li>
                                                        <li><a class="button" href="#">Submit payment</a></li>
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    
                                </div>
                            </div>
                            
                            
						</div>
					</div>
				</div>
			</main>
			<!-- End of Page Content -->
		</apex:define>
	</apex:composition>
</apex:page>