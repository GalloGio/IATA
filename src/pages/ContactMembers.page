<apex:page Controller="MemberContactsCsv"  tabStyle="contact"    standardStylesheets="true">
  <apex:form >  
    <apex:pageBlock rendered="{!Page = 1}">
    <apex:pageMessages ></apex:pageMessages>
        <apex:pageBlockSection title="Upload CSV File"   >
                         <apex:outputLabel >{!acct.name}</apex:outputLabel>
                         <apex:outputLabel ></apex:outputLabel>
                        <apex:inputfile value="{!contentFile}"/>
                       
        </apex:pageBlockSection> 
      <apex:commandButton value="Upload" action="{!next}" />               
    </apex:pageBlock>
        
  <apex:pageBlock rendered="{!Page = 2}" mode="edit" >
    <apex:pageMessages ></apex:pageMessages>
       <apex:pageBlockSection title="Uploading contacts for the account : {!acct.name}" collapsible="False"  columns="1">
        <apex:pageBlockTable value="{!contactsToInsert}" var="ctc" id="thePageBlockTable" > 
                <apex:column >
                    <apex:inputfield value="{!ctc.Membership_Main_Contact__c}" /> 
                    <apex:facet name="header">Main Contact</apex:facet>
                </apex:column>
                <apex:column >
                    <apex:inputfield value="{!ctc.Title}" /> 
                    <apex:facet name="header">Title</apex:facet>
                </apex:column>
                <apex:column >
                    <apex:inputfield value="{!ctc.Salutation}" /> 
                    <apex:facet name="header">Salutation</apex:facet>
                </apex:column>
                <apex:column >
                    <apex:inputfield value="{!ctc.FirstName}"  /> 
                    <apex:facet name="header">First Name</apex:facet>
                </apex:column>
                <apex:column >
                    <apex:inputfield value="{!ctc.LastName}"  /> 
                    <apex:facet name="header">Last Name</apex:facet>
                </apex:column>
                <apex:column >
                    <apex:inputfield value="{!ctc.Membership_Function__c}" /> 
                    <apex:facet name="header">Job Function</apex:facet>
                </apex:column>
                <apex:column >
                    <apex:inputfield value="{!ctc.Senior_Contact_Phone__c}" /> 
                    <apex:facet name="header">Phone</apex:facet>
                </apex:column>
                <apex:column >
                    <apex:inputfield value="{!ctc.Senior_Contact_Fax__c}" /> 
                    <apex:facet name="header">Fax</apex:facet>
                </apex:column>
                <apex:column >
                    <apex:inputfield value="{!ctc.Senior_Contact_Email__c}" /> 
                    <apex:facet name="header">Email</apex:facet>
                </apex:column>
                <apex:column >
                    <apex:facet name="header">Country</apex:facet>
                    <apex:inputfield value="{!ctc.ISO_Country__c}" />
                </apex:column>
                
                <apex:inlineEditSupport event="ondblClick" 
                        showOnEdit="saveButton,cancelButton" hideOnEdit="editButton" /> 
            </apex:pageBlockTable>
           </apex:pageBlockSection>
     <apex:pageBlockSection title="Contacts on the csv file" collapsible="false" columns="1"  > 
        <apex:dataTable value="{!contactsFromCsv}" var="ctcCsv" cellspacing="20" border="1" width="100%" >
                 <apex:column >
                    <apex:facet name="header">Main Contact</apex:facet>
                    <apex:outputField value="{!ctcCsv.Membership_Main_Contact__c}" />
                </apex:column>
                <apex:column >
                    <apex:facet name="header">Title</apex:facet>
                    <apex:outputText value="{!ctcCsv.Title}" />
                </apex:column>
                <apex:column >
                    <apex:facet name="header">Salutation</apex:facet>
                    <apex:outputText value="{!ctcCsv.Salutation}" />
                </apex:column>
                <apex:column >
                    <apex:facet name="header">First Name</apex:facet>
                    <apex:outputText value="{!ctcCsv.FirstName}" />
                </apex:column>
                <apex:column >
                    <apex:facet name="header">Last Name</apex:facet>
                    <apex:outputText value="{!ctcCsv.LastName}" />
                </apex:column>
                 <apex:column >
                    <apex:facet name="header">Job Function</apex:facet>
                    <apex:outputText value="{!ctcCsv.Membership_Function__c}" />
                </apex:column>

                 <apex:column >
                    <apex:facet name="header">Phone</apex:facet>
                    <apex:outputText value="{!ctcCsv.Senior_Contact_Phone__c}" />
                </apex:column>
                <apex:column >
                    <apex:facet name="header">Fax</apex:facet>
                    <apex:outputText value="{!ctcCsv.Senior_Contact_Fax__c}" />
                </apex:column>
                <apex:column >
                    <apex:facet name="header">Email</apex:facet>
                    <apex:outputText value="{!ctcCsv.Senior_Contact_Email__c}" />
                </apex:column>
                <apex:column >
                    <apex:facet name="header">Country</apex:facet>
                    <apex:outputText value="{!ctcCsv.Description}" />
                </apex:column>
             </apex:dataTable>
        </apex:pageBlockSection>        
          <apex:pageBlockButtons > 
              <apex:commandButton value="Save" action="{!save}" id="saveButton" />
               <apex:commandButton value="Cancel" action="{!cancel}" id="cancelButton" immediate="true" /> 
            </apex:pageBlockButtons>  
          
    </apex:pageBlock>

  </apex:form>   
</apex:page>