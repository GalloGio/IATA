<apex:page controller="ISSP_Contact" standardStylesheets="false" showHeader="false" sidebar="false"  applyBodyTag="false" applyHtmlTag="false">
    <html>
 <c:ISSP_Header communityName="{!communityName}"></c:ISSP_Header>    
 <body>
 
     <style>
    .ct{
        text-align:center;
    }
     </style>
     
  <div class="container">
      <c:ISSP_CustomNavigation communityName="{!communityName}"/>
      
          <h4>
            {!$Label.ISSP_Company_Administration}
            <span class="glyphicon glyphicon-chevron-right small " aria-hidden="true"></span>
            {!$Label.ISSP_Contacts}
            <span class="glyphicon glyphicon-chevron-right small " aria-hidden="true"></span>
            {!$Label.ISSP_Contact_Information}
            <br/>
            <small></small>
          </h4>

          <div class="panel panel-primary">
              <div class="panel-heading head_panel_green">
                  <h3 class="panel-title">{!$Label.ISSP_Contact_Information}</h3>
              </div>
              
            <!--  **************** Read mode ********************** -->
              <apex:define name="body">
                <div class="panel-body" id="body-enquiries">
                    <apex:form rendered="{!NOT(isEditMode)}" id="readcontact">
                        <div class="row">
                            
                            <div class="col-md-12">
                                <div class="col-lg-3"><apex:commandButton action="{!RelocateContact}" styleclass="btn_iata_primary btn btn-block" rendered="{!isPortalAdminUser}" value="{!$Label.ISSP_Relocate_Contact}" id="relocateContact"/></div>
                                <div class="col-lg-4"><apex:commandButton action="{!AssignIFAPContact}" styleclass="btn_iata_primary btn btn-block" rendered="{!AND(isIATAAgencyAcct, isPortalAdminUser)}" value="{!$Label.ISSP_Assign_IFAP}" id="assignIFAP"/></div>
                                <div class="col-lg-3"><apex:commandButton action="{!ChangePortalStatus}" styleclass="btn_iata_primary btn btn-block" rendered="{!isPortalAdminUser}" value="{!$Label.ISSP_ChangeUserPortalStatus}" id="changePortalStatus"/></div>
                                <div class="col-lg-2"><apex:commandButton action="{!edit}" styleclass="btn_iata_primary btn btn-block" rendered="{!AND(isPortalAdminUser, NOT(isEditMode))}" value="{!$Label.ISSP_Edit}" id="edit"/></div>
                            </div>
                        </div>
                        <div style="margin-bottom:15px"/>
             
                            <!-- COL 1  START -->
                            <div class="row">
                          
                            <div class="col-md-6">
                                <div class="row">
                                    <apex:outputLabel styleClass="lbl col-lg-5" value="{!$ObjectType.Contact.fields.Name.Label}" />
                                    <div class="col-lg-7"><apex:outPutField value="{!Contact.Salutation}"/>&nbsp;<apex:outPutField value="{!Contact.name}"/></div>
                                </div>
                                
                                <div class="row">
                                    <apex:outputLabel styleClass="lbl col-lg-5" value="{!$ObjectType.Contact.fields.Title.Label}" />
                                    <div class="col-lg-7"><apex:outPutField value="{!Contact.Title}"/></div>
                                </div>
                                
                                <div class="row">
                                    <apex:outputLabel styleClass="lbl col-lg-5" value="{!$ObjectType.Contact.fields.Membership_Function__c.Label}" />
                                    <div class="col-lg-7"><apex:outPutField value="{!Contact.Membership_Function__c }"/></div>
                                </div>
                                
                                 <div class="row">
                                    <apex:outputLabel styleClass="lbl col-lg-5" value="{!$ObjectType.Contact.fields.Email.Label}" />
                                    <div class="col-lg-7"><apex:outPutField styleclass="col-lg-4" value="{!Contact.Email}"/></div>
                                </div>
                                
                                <div class="row">
                                    <apex:outputLabel styleClass="lbl col-lg-5" value="{!$ObjectType.Contact.fields.Phone.Label}" />
                                    <div class="col-lg-7"><apex:outPutField value="{!Contact.Phone}"/></div>
                                </div>
                                
                                <div class="row">
                                    <apex:outputLabel styleClass="lbl col-md-5" value="{!$ObjectType.Contact.fields.MobilePhone.Label}" />
                                    <div class="col-md-7"> <apex:outPutField value="{!Contact.MobilePhone}"/> </div> 
                                 </div>
                                
                                <div class="row">
                                    <apex:outputLabel styleClass="lbl col-md-5" value="{!$ObjectType.Contact.fields.User_Portal_Status__c.Label}" />
                                    <div class="col-md-5"> <apex:outPutField value="{!Contact.User_Portal_Status__c }"/> </div>
                                 </div>
                                 
                                <div class="row">
                                    <apex:outputLabel styleClass="lbl col-md-5" value="{!$ObjectType.Contact.fields.BSP_CASS_Payment_contact__c.Label}" />
                                    <div class="col-md-5"> <apex:outPutField value="{!Contact.BSP_CASS_Payment_contact__c}"/> </div>
                                 </div>
                                 
                                <div class="row">
                                    <apex:outputLabel styleClass="lbl col-md-5" value="{!$ObjectType.Contact.fields.Invoicing_Contact__c.Label}" />
                                    <div class="col-md-5"> <apex:outPutField value="{!Contact.Invoicing_Contact__c}"/> </div>
                                 </div>
                                 
                                <div class="row">
                                    <apex:outputLabel styleClass="lbl col-md-5" value="{!$ObjectType.Contact.fields.Airline_Contact_Type__c.Label}" />
                                    <div class="col-md-5"> <apex:outPutField value="{!Contact.Airline_Contact_Type__c}"/> </div>
                                 </div>
                                 
                                <div class="row">
                                    <apex:outputLabel styleClass="lbl col-md-5" value="{!$ObjectType.Contact.fields.Services__c.Label}" />
                                    <div class="col-md-5"> <apex:outPutField value="{!Contact.Services__c}"/> </div>
                                 </div>
                                
                            </div>  <!-- END COL 1 -->
                                        
                            <div class="col-md-5">  <!-- START COL 2 -->
                                <div class="row">
                                    <apex:outputLabel styleClass="lbl col-lg-5" value="{!$ObjectType.Account.fields.Name.Label}" />
                                    <div class="col-lg-7"><apex:outputLink value="/apex/ISSP_Account?id={!Contact.AccountId}{!if(communityName=='CNS','&CommunityName='+communityName,'')}">{!Contact.Account.Name}</apex:outputLink></div>
                                </div>
                                
                                 <apex:outputText rendered="{!NOT(isIATAAgencyAcct)}">
                                   <div class="row">
                                        <apex:outputLabel styleClass="lbl col-lg-5" value="{!$ObjectType.Contact.fields.Account_HQ_BO__c.Label}" />
                                        <div class="col-lg-7"><apex:outPutField value="{!Contact.Account_HQ_BO__c}"/></div>
                                    </div>
                                </apex:outputText>
                                
                                <apex:outputText rendered="{!isIATAAgencyAcct}">
                                  <div class="row">
                                    <apex:outputLabel styleClass="lbl col-lg-5" value="{!$ObjectType.Account.fields.Location_Type__c.Label}" />
                                    <div class="col-lg-7"><apex:outPutField value="{!Contact.Account.Location_Type__c}"/></div>
                                   </div>
                                 </apex:outputText>
                                
                                 <div class="row">
                                    <apex:outputLabel styleClass="lbl col-lg-5" value="{!$ObjectType.Contact.fields.IATA_Code__c.Label}" />
                                    <div class="col-lg-7"><apex:outPutField value="{!Contact.IATA_Code__c}"/></div>
                                 </div>
                                
                                <div class="row">
                                    <apex:outputLabel styleClass="lbl col-lg-5" value="{!$ObjectType.Account.fields.IATA_ISO_Country__c.Label}" />
                                    <div class="col-lg-7"><apex:outPutField value="{!Contact.Account.IATA_ISO_Country__r.Name}"/></div>
                                 </div>
                            </div>    
                                       
                            </div><!-- end main row -->                  
                            
                            
                            <apex:outputText rendered="{!isIATAAgencyAcct}">
                            <div class="row">
                                <apex:outputLabel styleClass="lbl col-lg-2" value="{!$ObjectType.Contact.fields.Financial_Assessment_Contact__c.Label}" />
                                <div class="col-lg-1"> <apex:outPutField value="{!Contact.Financial_Assessment_Contact__c}"/> </div>
                            </div>
                            </apex:outputText>    
               
                        
                 </apex:form>
                </div> 
               </apex:define>
             
              
               <apex:form rendered="{!NOT(isEditMode)}">
                   <div class="row">
               <div class="col-md-12" style="display:{!IF(appsGrantedList.size > 0,'','none')}" >
                    <h5 class="blueback">{!$Label.ISSP_Services_List}</h5>
                </div>
                   
              </div>
                <apex:pageblock id="CustomList" title="" rendered="{!appsGrantedList.size > 0}" >
                    <div style="margin-top:10px"/>
                   <apex:pageBlockTable value="{!appsGrantedList}" var="o" styleClass="table table-hover">
                        <apex:column style="text-align: center;" headerClass="ct" >
                            <apex:outputLink value="/ISSP_EditPortalServiceAccess?Id={!o.Id}&op=Edit&retURL=ISSP_Contact?Id={!o.Contact__c}{!if(communityName=='CNS','&CommunityName='+communityName,'')}" target="_self">{!$Label.ISSP_Edit}</apex:outputLink>
                        </apex:column>
                        <apex:column value="{!o.Portal_Application__r.Application_icon__c}" style="text-align: center;" headerClass="ct" />
                        <apex:column style="text-align: center;" headerClass="ct" >
                            <apex:facet name="header">
                                {!$ObjectType.Portal_Applications__c.fields.Name.label}                          
                            </apex:facet>
                            <apex:outputLink value="/apex/ISSP_PortalService?id={!o.Portal_Application__r.Id}{!if(communityName=='CNS','&CommunityName='+communityName,'')}">{!o.Portal_Application__r.ServiceName__c}</apex:outputLink>
                        </apex:column>
                        <apex:column value="{!o.Right__c}" style="text-align: center;" headerClass="ct" />
                      
                   </apex:pageBlockTable>
                  
                 </apex:pageblock>
              </apex:form>
               
              <!--  **************** Edit mode ********************** -->
              <apex:define name="body">
                <div class="panel-body" id="body-enquiries">
                    <apex:form styleClass="form-horizontal" id="editcontact">
                        <apex:pageBlock rendered="{!isEditMode}">                            
                                <apex:pageMessages />
                                                                 
                        <div class="row">
                            <div class="col-md-8">&nbsp;</div>
                            <div class="col-md-4">
                                <apex:commandButton action="{!save}" styleclass="btn_iata btn-sm btn-block btn-primary" styleClass="btn btn_iata btn-success" value="{!$Label.ISSP_Submit}" id="Save"/>
                                <apex:commandButton action="{!cancel}" value="{!$Label.ISSP_Cancel}" immediate="true" styleClass="btn btn_iata btn-danger"/>
                            </div>
                        </div>
                        <div style="margin-bottom:15px"/>
                    <table >
                
                        <thead>
                                <div class="form-group">
                                    <apex:outputLabel styleClass="lbl col-md-2" value="{!$ObjectType.Account.fields.Name.Label}" />
                                    <div class="col-md-4"> <apex:outputLink value="/apex/ISSP_Account?id={!Contact.AccountId}{!if(communityName=='CNS','&CommunityName='+communityName,'')}">{!Contact.Account.Name}</apex:outputLink> </div>
                                </div>
                     
                                 <div class="form-group">
                                    <apex:outputLabel styleClass="lbl col-md-2" value="{!$ObjectType.Contact.fields.Email.Label}" />
                                    <div class="col-md-4"> <apex:outPutField value="{!Contact.Email}"/> </div>
                                 </div>

                                <div class="form-group">
                                    <apex:outputLabel styleClass="lbl col-md-2" value="{!$ObjectType.Contact.fields.Salutation.Label}" />
                                    <div class="col-md-4"><apex:inPutField value="{!Contact.Salutation}"/> </div>
                                </div>
                                    
                                <div class="form-group">
                                    <apex:outputLabel styleClass="lbl col-md-2" value="{!$ObjectType.Contact.fields.FirstName.Label}" />
                                    <div class="col-md-4"><apex:inPutField value="{!Contact.FirstName}"/> </div>
                                </div>
                            
                                 <div class="form-group">
                                    <apex:outputLabel styleClass="lbl col-md-2" value="{!$ObjectType.Contact.fields.LastName.Label}" />
                                    <div class="col-md-4"><apex:inPutField value="{!Contact.LastName}"/> </div>
                                </div>
                            
                                 <div class="form-group">
                                    <apex:outputLabel styleClass="lbl col-md-2" value="{!$ObjectType.Contact.fields.Title.Label}" />
                                    <div class="col-md-4"> <apex:inPutField value="{!Contact.Title}"/> </div> 
                                </div> 
                                        
                                <div class="form-group">
                                    <apex:outputLabel styleClass="lbl col-md-2" value="{!$ObjectType.Contact.fields.Phone.Label}" />
                                    <div class="col-md-4"> <apex:inPutField value="{!Contact.Phone}"/> </div>
                                </div>
                            
                                <div class="form-group">
                                    <apex:outputLabel styleClass="lbl col-md-2" value="{!$ObjectType.Contact.fields.MobilePhone.Label}" />
                                    <div class="col-md-4"> <apex:inPutField value="{!Contact.MobilePhone}"/> </div>
                                </div>
                                
                                <div class="form-group">
                                  <apex:outputLabel styleClass="lbl col-lg-2" value="{!$ObjectType.Contact.fields.BSP_CASS_Payment_contact__c.Label}" />
                                  <div class="col-lg-4"> <apex:inPutField value="{!Contact.BSP_CASS_Payment_contact__c}"/> </div>
                                </div>
                                
                                <div class="form-group">
                                  <apex:outputLabel styleClass="lbl col-lg-2" value="{!$ObjectType.Contact.fields.Invoicing_Contact__c.Label}" />
                                  <div class="col-lg-4"> <apex:inPutField value="{!Contact.Invoicing_Contact__c }"/> </div>
                                </div>
                                      
                                <div class="form-group">
                                  <apex:outputLabel styleClass="lbl col-lg-2" value="{!$ObjectType.Contact.fields.Membership_Function__c.Label}" />
                                  <div class="col-lg-4"> <apex:inPutField value="{!Contact.Membership_Function__c }"/> </div>
                                </div>

                        </thead>
                     </table>  
                   </apex:pageBlock>
                 </apex:form>
                </div> 
               </apex:define>
               
       <!-- ********** End of Edit Mode ******** -->    
     
          </div><!-- end  div class="panel panel-primary"-->
      <c:ISSP_CustomFooter communityName="{!communityName}"/>
  </div><!-- end container-->  
        </body>
    </html>
</apex:page>