<apex:page standardController="EBC_Campaign__c" extensions="vfIECEBC_Campaign,vfIECEBC_CampaignSchedule" applyHtmlTag="false" applyBodyTag="false" sidebar="false" showheader="false" standardStylesheets="false" language="en" docType="html-5.0" action="{!pageLoad}">
	<apex:composition template="IECEBC_Layout">
        <apex:define name="pageHeadAdditions">
            <!-- Start of Page <head> -->
            <title>eBroadcast Campaign - Schedule</title>
            <!-- End of Page </head> -->
        </apex:define>
        <apex:define name="pageScriptAdditions" />
        <apex:define name="pageContent">
            <!-- Start of Page Content -->
            <main class="main-content">
                <div class="inner-wrapper">
                    <c:IECEBC_ProgressComponent currentStepNumber="{!currentStepNumber}" campaign="{!EBC_Campaign__c}" />
            
                    <h1 class="page-title">Summary &amp; Schedule</h1>
                    
                    <p class="lead">Review these important campaign details before scheduling you campaign.</p>
            
                    <apex:outputPanel layout="block" styleClass="alert subject-line" rendered="{!campaign.Status__c == 'DRAFT'}">
                        <div class="alert-message icon check-circle">
                            <h2 class="title">Subject Line <a class="text-link" href="https://{!$Site.Domain}{!URLFOR($Page.IECEBC_Campaign)}?id={!campaign.id}">(edit)</a></h2>
                            <p>The Email Subject currently setup is "<strong>{!campaign.Subject__c}</strong>". Please make sure this is accurate.</p>
                        </div>
                    </apex:outputPanel>
            
                    <div class="alert">
                        <div class="alert-message icon check-circle">
                            <h2 class="title">Recipients</h2>
                            <p>
                                Your message will be delivered using the <strong>{!campaign.EBC_Master_Filter__r.Name}</strong> list additionally filtered using the <strong>IP segment</strong>.<br />
                                Total of <strong><apex:outputText value="{0, number, ###,##0}"><apex:param value="{!campaign.EBC_Master_Filter__r.Number_of_Recipients__c}"/></apex:outputText> recipients</strong>
                            </p>
                        </div>
                    </div>
            
                    <c:IECEBC_CampaignSchedule c="{!campaign}">
                            <ul>
                                <li><apex:commandLink rendered="{!campaign.Is_Step5_Writable__c}" action="{!previous}" styleClass="button" value="Previous" /></li>
                            </ul>
                            
                            <apex:commandLink rendered="{!campaign.Is_Step5_Writable__c}" action="{!saveAndExit}" reRender="pageMessagesBlock" styleClass="button" value="Save and Exit" />
                            <apex:commandLink rendered="{!campaign.Is_Step5_Writable__c}" action="{!saveAndContinue}" reRender="pageMessagesBlock" styleClass="button" value="Save and Continue" />
                            
							<apex:commandLink rendered="{!NOT(campaign.Is_Step5_Writable__c)}" action="{!previous}" value="Previous" />
                            <apex:commandLink rendered="{!NOT(campaign.Is_Step5_Writable__c)}" action="{!next}" value="Next" />
                    </c:IECEBC_CampaignSchedule>
                </div>
            </main>
            <!-- End of Page Content -->
        </apex:define>
    </apex:composition>
</apex:page>