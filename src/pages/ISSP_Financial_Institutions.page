<apex:page controller="ISSP_Financial_Institutions" cache="false" sidebar="false" showHeader="false" applyBodyTag="false" applyHtmlTag="false" standardStylesheets="false">
	<html>
  		<c:ISSP_Header/>
  		<body>
  			<script type="text/javascript">
  				function showTermsAndConditionsModal() {
  					$('[id$="termsAndConsitionsFIModal"]').css('display', 'block');
  					changeContinueButtonState();
  					$('[id$="errorMessagesTCModal"]').css('display', 'none');	
  				}

  				function hideTermsAndConditionsModal() {
  					$('[id$="termsAndConsitionsFIModal"]').css('display', 'none');
  				}

  				function changeContinueButtonState() {
  					if($('[id$="tcModalAgreeCheckbox"]').prop("checked"))
  						$('[id$="tcModalConfirmButton"]').removeAttr('disabled');
  					else
  						$('[id$="tcModalConfirmButton"]').attr('disabled','disabled');
  				}
  			</script>

  			<c:ISSP_CustomNavigation/>
  			<div class="container">
  				<div id="contentWrapper">
  					<div>
		                <apex:image value="{!URLFOR($Resource.IATA_Logo_Large)}" width="138" height="102" style="float: left;"/>
		            </div>
		            <div style="padding-top: 16px; padding-left: 44px;">
		                <h3>Financial Institution Insurance Providers</h3>
		                <apex:outputText value="The following Financial Institutions provide Financial Security Insurance in your country" escape="false"/>
		            </div>
		            <apex:form>

		            	<!--<apex:actionFunction name="termsAndConditionsModal" action="{!showTermsAndConditions}" reRender="termsAndConsitionsFIModalPanel"/>-->
		            	<apex:actionFunction name="reRendererrorMessagesTCModalTCModal" reRender="errorMessagesTCModal"/>
		            	<apex:actionFunction name="submitTCModal" action="{!createPortalAppRight}" reRender="" oncomplete="hideTermsAndConditionsModal();"/>
			                		                
			            <apex:commandButton styleClass="btn_iata_success btn" value="ola" onclick="showTermsAndConditionsModal(); return false;" reRender=""/>

					    <div class="modal" id="termsAndConsitionsFIModal" tabindex="-1" role="dialog">
					    	<apex:outputPanel layout="block" id="myModalContent"> 
						      	<div class="modal-dialog" role="document">
						        	<div class="modal-content">
						          		<div class="modal-header">
						            		<button type="button" class="close" data-dismiss="modal" aria-hidden="true" onclick="hideTermsAndConditionsModal();">&times;</button>
						            		<h4 class="modal-title">Terms and Conditions</h4>
						          		</div>
						          		<div class="modal-body">
						          			<apex:outputPanel id="errorMessagesTCModal"> 
								                <div class="alert alert-danger" style="display:{!IF(termsAndConditions,'none','')}">
								                  	<strong>{!$Label.ISSP_Error}</strong>
								                  	<!--<apex:repeat value="{!errorMessage}" var="er" id="theRepeat">-->
								                      	<p><apex:outputText value="ERRO" escape="false"/></p>
								                  	<!--</apex:repeat>-->
								                </div>
								            </apex:outputPanel>
						            		<p>
						            			<b>
						              				<apex:outputText value="By applying for your Accreditation Security to be provided to IATA by Euler Hermes, you consent to IATA sharing with Euler Hermes information it holds which is relevant to your financial standing, whether obtained directly from you when applying for IATA Accreditation or which IATA has maintained throughout your period of membership of IATA"/>
						            			</b>
						            		</p>
						            		<p>
						            			<apex:inputCheckbox id="tcModalAgreeCheckbox" value="{!termsAndConditions}" onchange="changeContinueButtonState();"/>
						            			<apex:outputText value="&nbsp;I agree" escape="false"/>
						            		</p>
						         	 	</div>
						         	 	<div class="modal-footer">
						         	 		<apex:commandButton id="tcModalConfirmButton" styleClass="btn_iata_success btn" value="Continue" oncomplete="reRendererrorMessagesTCModalTCModal(); if({!termsAndConditions}) {submitTCModal();}"/>
						         	 		<apex:commandButton styleClass="btn btn-secondary" value="Close" onclick="hideTermsAndConditionsModal(); return false;" reRender=""/>
									    </div>
						        	</div>
						      	</div>
					      	</apex:outputPanel>
					    </div>
			    	</apex:form>
  				</div>
  			</div>
  			<c:ISSP_CustomFooter/>
  		</body>
  	</html>
</apex:page>