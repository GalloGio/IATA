<?xml version="1.0" encoding="UTF-8"?>
<CustomObject xmlns="http://soap.sforce.com/2006/04/metadata">
    <actionOverrides>
        <actionName>Accept</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Accept</actionName>
        <formFactor>Large</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Accept</actionName>
        <formFactor>Small</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>CancelEdit</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>CancelEdit</actionName>
        <formFactor>Large</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>CancelEdit</actionName>
        <formFactor>Small</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Clone</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Clone</actionName>
        <formFactor>Large</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Clone</actionName>
        <formFactor>Small</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Delete</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Delete</actionName>
        <formFactor>Large</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Delete</actionName>
        <formFactor>Small</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Edit</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Edit</actionName>
        <formFactor>Large</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Edit</actionName>
        <formFactor>Small</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>List</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>List</actionName>
        <formFactor>Large</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>List</actionName>
        <formFactor>Small</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>New</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>New</actionName>
        <formFactor>Large</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>New</actionName>
        <formFactor>Small</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>SaveEdit</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>SaveEdit</actionName>
        <formFactor>Large</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>SaveEdit</actionName>
        <formFactor>Small</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Tab</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Tab</actionName>
        <formFactor>Large</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Tab</actionName>
        <formFactor>Small</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>View</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>View</actionName>
        <formFactor>Large</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>View</actionName>
        <formFactor>Small</formFactor>
        <type>Default</type>
    </actionOverrides>
    <allowInChatterGroups>false</allowInChatterGroups>
    <compactLayoutAssignment>SYSTEM</compactLayoutAssignment>
    <deploymentStatus>Deployed</deploymentStatus>
    <enableActivities>true</enableActivities>
    <enableBulkApi>true</enableBulkApi>
    <enableFeeds>false</enableFeeds>
    <enableHistory>true</enableHistory>
    <enableLicensing>false</enableLicensing>
    <enableReports>true</enableReports>
    <enableSearch>false</enableSearch>
    <enableSharing>true</enableSharing>
    <enableStreamingApi>true</enableStreamingApi>
    <externalSharingModel>ControlledByParent</externalSharingModel>
    <fieldSets>
        <fullName>Display_On_Currency</fullName>
        <description>ANG_ChangeRHCCurrency page: controls the fields to be displayed</description>
        <displayedFields>
            <field>ANG_AccountId__c</field>
            <isFieldManaged>false</isFieldManaged>
            <isRequired>false</isRequired>
        </displayedFields>
        <displayedFields>
            <field>ANG_IATA_Code__c</field>
            <isFieldManaged>false</isFieldManaged>
            <isRequired>false</isRequired>
        </displayedFields>
        <displayedFields>
            <field>CurrencyIsoCode</field>
            <isFieldManaged>false</isFieldManaged>
            <isRequired>false</isRequired>
        </displayedFields>
        <displayedFields>
            <field>ANG_RHC_Amount__c</field>
            <isFieldManaged>false</isFieldManaged>
            <isRequired>false</isRequired>
        </displayedFields>
        <displayedFields>
            <field>ANG_RHC_Amount_Provisional__c</field>
            <isFieldManaged>false</isFieldManaged>
            <isRequired>false</isRequired>
        </displayedFields>
        <label>Display On Currency</label>
    </fieldSets>
    <fields>
        <fullName>ANG_AccountId__c</fullName>
        <description>Holds the id of the account to wich the RHC record is related.</description>
        <externalId>false</externalId>
        <label>Account</label>
        <referenceTo>Account</referenceTo>
        <relationshipLabel>RHC Information</relationshipLabel>
        <relationshipName>RHC_Informations</relationshipName>
        <relationshipOrder>0</relationshipOrder>
        <reparentableMasterDetail>true</reparentableMasterDetail>
        <trackHistory>true</trackHistory>
        <trackTrending>false</trackTrending>
        <type>MasterDetail</type>
        <writeRequiresMasterRead>false</writeRequiresMasterRead>
    </fields>
    <fields>
        <fullName>ANG_Account_Country_ISO_Code__c</fullName>
        <description>Stores the Country ISO Code for the related account</description>
        <externalId>false</externalId>
        <formula>ANG_AccountId__r.Country_ISO_Code__c</formula>
        <label>Account Country ISO Code</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>ANG_CashCondition__c</fullName>
        <defaultValue>false</defaultValue>
        <description>Reports the cash conditions of the account. This information is filled by the account trigger and should no be updated manually. It&apos;s used on the calculation of RHC Amount and Forecasted RHC Amount</description>
        <externalId>false</externalId>
        <label>Cash Conditions Equal to FS</label>
        <trackHistory>true</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Checkbox</type>
    </fields>
    <fields>
        <fullName>ANG_ConsumedRHC_Last_Update__c</fullName>
        <description>The date of the current consumed RHC last update. This information comes from an external system and should not be updated manually.</description>
        <externalId>false</externalId>
        <label>Consumed RHC Last Update</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Date</type>
    </fields>
    <fields>
        <fullName>ANG_ConsumedRHC_Percent__c</fullName>
        <description>The current consumed RHC Percentage. This information comes from an external system and should not be updated manually.</description>
        <externalId>false</externalId>
        <label>Consumed RHC %</label>
        <precision>18</precision>
        <required>false</required>
        <scale>2</scale>
        <trackHistory>true</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Percent</type>
    </fields>
    <fields>
        <fullName>ANG_ConsumedRHC__c</fullName>
        <description>The current consumed RHC Value. This information comes from an external system and should not be updated manually.</description>
        <externalId>false</externalId>
        <label>Consumed RHC</label>
        <precision>18</precision>
        <required>false</required>
        <scale>4</scale>
        <trackHistory>true</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Currency</type>
    </fields>
    <fields>
        <fullName>ANG_Consumed_RHC_Date__c</fullName>
        <externalId>false</externalId>
        <label>Consumed RHC Date</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Date</type>
    </fields>
    <fields>
        <fullName>ANG_Enable_Calculation__c</fullName>
        <description>Reports the account status. Used to prevent queries on the RHC trigger.</description>
        <externalId>false</externalId>
        <formula>NOT(ISPICKVAL(ANG_AccountId__r.Status__c, &apos;Terminated&apos;))</formula>
        <label>Enable Amount Recalculation</label>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Checkbox</type>
    </fields>
    <fields>
        <fullName>ANG_Exceeding_Financial_Security__c</fullName>
        <description>Helper field: reports the amount of FS provided over the minimum</description>
        <externalId>false</externalId>
        <formula>IF(ANG_Minimum_Financial_Security__c  &gt;= 0 , ANG_Financial_Security__c - ANG_Minimum_Financial_Security__c, null)</formula>
        <formulaTreatBlanksAs>BlankAsZero</formulaTreatBlanksAs>
        <label>Exceeding FS Amount</label>
        <precision>18</precision>
        <required>false</required>
        <scale>2</scale>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Currency</type>
    </fields>
    <fields>
        <fullName>ANG_Financial_Security__c</fullName>
        <description>The total FS provided by the agent. This field is calculated in a trigger, based on the converted amount of the Financial Security Records on the Account.</description>
        <externalId>false</externalId>
        <label>Total FS Provided</label>
        <precision>18</precision>
        <required>false</required>
        <scale>4</scale>
        <trackHistory>true</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Currency</type>
    </fields>
    <fields>
        <fullName>ANG_IATA_Code__c</fullName>
        <externalId>false</externalId>
        <formula>ANG_AccountId__r.IATACode__c</formula>
        <label>IATA Code</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>ANG_Minimum_Financial_Security__c</fullName>
        <description>Holds the information in what is the minimum FS required for the agent. This information comes from a Case (IFAP or SAAM) and should not be updated manually</description>
        <externalId>false</externalId>
        <label>Minimum FS required</label>
        <precision>18</precision>
        <required>false</required>
        <scale>4</scale>
        <trackHistory>true</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Currency</type>
    </fields>
    <fields>
        <fullName>ANG_Provisional_RHC_Last_Update__c</fullName>
        <description>The date of the Provisional RHC Amount last update. This information comes from an external system and should not be updated manually.</description>
        <externalId>false</externalId>
        <label>Amount At Risk Last Update</label>
        <required>false</required>
        <trackHistory>true</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Date</type>
    </fields>
    <fields>
        <fullName>ANG_RHC_Amount_Equals_FS__c</fullName>
        <defaultValue>false</defaultValue>
        <description>If checked the RHC amount will be equal to the total Financial Securities</description>
        <externalId>false</externalId>
        <inlineHelpText>If checked the RHC amount will be equal to the total Financial Securities</inlineHelpText>
        <label>RHC Amount Equals FS</label>
        <trackHistory>true</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Checkbox</type>
    </fields>
    <fields>
        <fullName>ANG_RHC_Amount_Forecasted__c</fullName>
        <description>Holds the information regarding what is the expected RHC Amount if the user clicks on the button &quot;Confirm Forecasted RHC&quot;</description>
        <externalId>false</externalId>
        <label>Forecasted RHC Amount</label>
        <precision>18</precision>
        <required>false</required>
        <scale>2</scale>
        <trackHistory>true</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Currency</type>
    </fields>
    <fields>
        <fullName>ANG_RHC_Amount_Provisional__c</fullName>
        <description>Expected RHC Amount calculated by RME. The agent can request a new calculation via a button on the layout. The information comes from an external system and should not be updated manually.</description>
        <externalId>false</externalId>
        <label>Amount At Risk</label>
        <precision>18</precision>
        <required>false</required>
        <scale>4</scale>
        <trackHistory>true</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Currency</type>
    </fields>
    <fields>
        <fullName>ANG_RHC_Amount_Simulation__c</fullName>
        <description>Temporary field to be used during simulation of RHC</description>
        <externalId>false</externalId>
        <label>RHC Amount (Simulation)</label>
        <precision>18</precision>
        <required>false</required>
        <scale>2</scale>
        <trackHistory>true</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Currency</type>
    </fields>
    <fields>
        <fullName>ANG_RHC_Amount__c</fullName>
        <description>The current RHC Amount for the agent</description>
        <externalId>false</externalId>
        <inlineHelpText>Help text for the RHC Amount</inlineHelpText>
        <label>RHC Amount</label>
        <precision>18</precision>
        <required>false</required>
        <scale>2</scale>
        <trackHistory>true</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Currency</type>
    </fields>
    <fields>
        <fullName>ANG_RHC_Effective_Date__c</fullName>
        <description>The date of the RHC Amount last update. This field is populated by an workflow.</description>
        <externalId>false</externalId>
        <label>RHC Amount Effective Date</label>
        <required>false</required>
        <trackHistory>true</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Date</type>
    </fields>
    <fields>
        <fullName>ANG_RME_Amount_Last_Update__c</fullName>
        <externalId>false</externalId>
        <label>RME Amount Last Update</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Date</type>
    </fields>
    <fields>
        <fullName>ANG_RME_Amount_Provisional__c</fullName>
        <externalId>false</externalId>
        <label>Provisional RME Amount</label>
        <precision>18</precision>
        <required>false</required>
        <scale>4</scale>
        <trackHistory>true</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Currency</type>
    </fields>
    <fields>
        <fullName>ANG_RME_Amount__c</fullName>
        <description>The last approved value calculated from RME.</description>
        <externalId>false</externalId>
        <label>Confirmed RME Amount</label>
        <precision>18</precision>
        <required>false</required>
        <scale>4</scale>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Currency</type>
    </fields>
    <fields>
        <fullName>ANG_UniqueKey__c</fullName>
        <caseSensitive>true</caseSensitive>
        <description>Holds the unique key combination of &quot;Account Id&quot; + &quot;Record Type Developer Name&quot;. Used by external systems to match the record.</description>
        <externalId>true</externalId>
        <label>Unique Key</label>
        <length>255</length>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>true</unique>
    </fields>
    <fields>
        <fullName>Amount_At_Risk_USD__c</fullName>
        <description>Amount At Risk (Provisional/2) exchanged from RHC currency into Org currency</description>
        <externalId>false</externalId>
        <formula>ANG_RHC_Amount_Provisional__c/CURRENCYRATE( TEXT(CurrencyIsoCode ))</formula>
        <formulaTreatBlanksAs>BlankAsZero</formulaTreatBlanksAs>
        <label>Amount At Risk (USD)</label>
        <precision>18</precision>
        <required>false</required>
        <scale>2</scale>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Currency</type>
    </fields>
    <fields>
        <fullName>Forecasted_Tier__c</fullName>
        <description>What will be the Tier if the Confirm Forecasted RHC button is pressed</description>
        <externalId>false</externalId>
        <label>Forecasted Tier</label>
        <required>false</required>
        <trackHistory>true</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Picklist</type>
        <valueSet>
            <restricted>true</restricted>
            <valueSetDefinition>
                <sorted>true</sorted>
                <value>
                    <fullName>1</fullName>
                    <default>false</default>
                    <label>1</label>
                </value>
                <value>
                    <fullName>2</fullName>
                    <default>false</default>
                    <label>2</label>
                </value>
                <value>
                    <fullName>3</fullName>
                    <default>false</default>
                    <label>3</label>
                </value>
            </valueSetDefinition>
        </valueSet>
    </fields>
    <fields>
        <fullName>RHC_Amount_Equals_FS_Percent__c</fullName>
        <description>Percentage of Financial Security to be applied on RHC calculation when &quot;RHC Amount Equals FS&quot; is true</description>
        <externalId>false</externalId>
        <label>RHC Amount Equals FS %</label>
        <precision>18</precision>
        <required>false</required>
        <scale>0</scale>
        <trackHistory>true</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Percent</type>
    </fields>
    <fields>
        <fullName>RHC_Amount_USD__c</fullName>
        <description>RHC Amount exchanged from RHC currency into Org currency</description>
        <externalId>false</externalId>
        <formula>ANG_RHC_Amount__c /CURRENCYRATE( TEXT(CurrencyIsoCode ))</formula>
        <formulaTreatBlanksAs>BlankAsZero</formulaTreatBlanksAs>
        <label>RHC Amount (USD)</label>
        <precision>18</precision>
        <required>false</required>
        <scale>2</scale>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Number</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>Tier__c</fullName>
        <description>Indicates the Tier the agency belong to. Used to calculate the RHC</description>
        <externalId>false</externalId>
        <label>Tier</label>
        <required>false</required>
        <trackHistory>true</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Picklist</type>
        <valueSet>
            <restricted>true</restricted>
            <valueSetDefinition>
                <sorted>true</sorted>
                <value>
                    <fullName>1</fullName>
                    <default>false</default>
                    <label>1</label>
                </value>
                <value>
                    <fullName>2</fullName>
                    <default>false</default>
                    <label>2</label>
                </value>
                <value>
                    <fullName>3</fullName>
                    <default>false</default>
                    <label>3</label>
                </value>
            </valueSetDefinition>
        </valueSet>
    </fields>
    <fields>
        <fullName>Tiered_Provisional_Amount__c</fullName>
        <description>Is the result of the Tier calculation</description>
        <externalId>false</externalId>
        <label>Tiered Provisional Amount</label>
        <precision>18</precision>
        <required>false</required>
        <scale>4</scale>
        <trackHistory>true</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Currency</type>
    </fields>
    <label>RHC Information</label>
    <nameField>
        <displayFormat>RHCI-{000000000}</displayFormat>
        <label>RHC Information Name</label>
        <trackHistory>false</trackHistory>
        <type>AutoNumber</type>
    </nameField>
    <pluralLabel>RHC Information Records</pluralLabel>
    <recordTypeTrackHistory>false</recordTypeTrackHistory>
    <recordTypes>
        <fullName>RHC_Information</fullName>
        <active>true</active>
        <label>RHC Information</label>
        <picklistValues>
            <picklist>Forecasted_Tier__c</picklist>
            <values>
                <fullName>1</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>2</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>3</fullName>
                <default>false</default>
            </values>
        </picklistValues>
        <picklistValues>
            <picklist>Tier__c</picklist>
            <values>
                <fullName>1</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>2</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>3</fullName>
                <default>false</default>
            </values>
        </picklistValues>
    </recordTypes>
    <searchLayouts/>
    <sharingModel>ControlledByParent</sharingModel>
    <validationRules>
        <fullName>Prevent_Forecast_Changes</fullName>
        <active>true</active>
        <errorConditionFormula>NOT(ANG_Enable_Calculation__c) &amp;&amp; ISCHANGED(ANG_RME_Amount__c)</errorConditionFormula>
        <errorMessage>You are not allowed to confirm a new RHC amount for a terminated agent</errorMessage>
    </validationRules>
    <visibility>Public</visibility>
    <webLinks>
        <fullName>Change_the_RHC_currency</fullName>
        <availability>online</availability>
        <displayType>button</displayType>
        <linkType>javascript</linkType>
        <masterLabel>Change the RHC currency</masterLabel>
        <openType>onClickJavaScript</openType>
        <protected>false</protected>
        <url>{!REQUIRESCRIPT(&quot;/soap/ajax/43.0/connection.js&quot;)} 
{!REQUIRESCRIPT(&quot;/soap/ajax/43.0/apex.js&quot;)} 
{!REQUIRESCRIPT(&quot;/support/console/43.0/integration.js&quot;)} 


try{
    var result = sforce.connection.query(&quot;Select ANG_AccountId__r.ANG_Accreditation_Model__c, ANG_AccountId__r.Location_Type__c From ANG_RHC_Information__c Where Id = &apos;{!ANG_RHC_Information__c.Id}&apos;&quot;);

    var records = result.getArray(&quot;records&quot;);
    var rhc;

    if (records.length &gt; 0)
        rhc = records[0];
                else
                    throw &apos;RHC record not found&apos;;
    
                if (rhc.ANG_AccountId__r.ANG_Accreditation_Model__c != &apos;Multicountry&apos; || rhc.ANG_AccountId__r.Location_Type__c != &apos;GE&apos;)
                    throw &apos;This functionality is only available for GoGlobal agents&apos;;       
                                
    if (sforce.console.isInConsole()) {
    
        sforce.console.getEnclosingPrimaryTabId(openPrimarytab);   

        function openPrimarytab(result) {
            var primaryTabId = result.id;
			sforce.console.openSubtab(primaryTabId , &apos;/apex/ANG_ChangeRHCCurrency?id={!ANG_RHC_Information__c.Id}&apos;, true, &apos;RHC Currency&apos;, null);
        };
                                
    } else {
       window.open(&apos;/apex/ANG_ChangeRHCCurrency?id={!ANG_RHC_Information__c.Id}&apos;,&apos;_blank&apos;,&apos;height=450,width=600&apos;);
    }
                                                                
                
} catch (err) {
    alert(err);
}</url>
    </webLinks>
    <webLinks>
        <fullName>Confirm_RHC</fullName>
        <availability>online</availability>
        <displayType>button</displayType>
        <linkType>javascript</linkType>
        <masterLabel>Confirm Forecasted RHC</masterLabel>
        <openType>onClickJavaScript</openType>
        <protected>false</protected>
        <url>{!REQUIRESCRIPT(&quot;/soap/ajax/25.0/connection.js&quot;)} 
{!REQUIRESCRIPT(&quot;/soap/ajax/10.0/apex.js&quot;)}

if(&apos;{!AND(NOT(CONTAINS(LOWER($Profile.Name), &apos;system administrator&apos;)), ANG_RHC_Information__c.ANG_CashCondition__c, OR(ANG_RHC_Information__c.ANG_Financial_Security__c = 0, ISNULL(ANG_RHC_Information__c.ANG_Financial_Security__c)))}&apos;.toLowerCase() == &apos;true&apos;){ 
alert(&apos;Provisional RHC cannot be enforced as RHC amount because the agent has cash condition equal to FS. If the agent has no valid FS, please contact your administrator&apos;); 
}else{ 

var rhcInfo = new sforce.SObject(&quot;ANG_RHC_Information__c&quot;); 
rhcInfo.Id = &apos;{!ANG_RHC_Information__c.Id}&apos;; 

rhcInfo.ANG_RME_Amount__c = parseInt(&apos;{!ANG_RHC_Information__c.ANG_RHC_Amount_Provisional__c}&apos;.replace(/[^0-9\.]+/g,&apos;&apos;)); 

var result = sforce.connection.update([rhcInfo]); 

console.info(&quot;result&quot;); 
console.info(result[0]); 

if (result[0].success == &quot;true&quot;) { 
window.location.reload(); 
} else { 
alert(result[0].errors.message); 
} 

}//end if-else profile check</url>
    </webLinks>
    <webLinks>
        <fullName>Request_Balance_Update</fullName>
        <availability>online</availability>
        <description>NOT Exposed, nor  internally, neither externally. However, button on portal page ISSP_ANG_RHC has the same label as this button</description>
        <displayType>button</displayType>
        <linkType>javascript</linkType>
        <masterLabel>Request Balance Update</masterLabel>
        <openType>onClickJavaScript</openType>
        <protected>false</protected>
        <url>{!REQUIRESCRIPT(&quot;/soap/ajax/40.0/connection.js&quot;)} 
{!REQUIRESCRIPT(&quot;/soap/ajax/40.0/apex.js&quot;)} 

var accountId = &apos;{!ANG_RHC_Information__c.ANG_AccountIdId__c}&apos;;

var result = sforce.apex.execute(&quot;ANG_RME_Alert_Service&quot;,&quot;requestBalanceUpdate&quot;,{accountId: accountId}); 

console.info(result[0]);

if(result[0].isSuccess == &quot;true&quot;){
window.location.reload();
}else{
alert(result[0].description);
}</url>
    </webLinks>
    <webLinks>
        <fullName>Request_Consumed_RHC</fullName>
        <availability>online</availability>
        <displayType>button</displayType>
        <linkType>javascript</linkType>
        <masterLabel>Request Consumed RHC</masterLabel>
        <openType>onClickJavaScript</openType>
        <protected>false</protected>
        <url>{!REQUIRESCRIPT(&quot;/soap/ajax/40.0/connection.js&quot;)} 
{!REQUIRESCRIPT(&quot;/soap/ajax/40.0/apex.js&quot;)} 

var accountId = &apos;{!ANG_RHC_Information__c.ANG_AccountIdId__c}&apos;;

var result = sforce.apex.execute(&quot;ANG_RME_Alert_Service&quot;,&quot;requestBalanceUpdate&quot;,{accountId: accountId}); 

console.info(result[0]);

if(result[0].isSuccess == &quot;true&quot;){
window.location.reload();
}else{
alert(result[0].description);
}</url>
    </webLinks>
    <webLinks>
        <fullName>Request_RHC_Calculation</fullName>
        <availability>online</availability>
        <displayType>button</displayType>
        <linkType>javascript</linkType>
        <masterLabel>Request RHC Calculation</masterLabel>
        <openType>onClickJavaScript</openType>
        <protected>false</protected>
        <url>{!REQUIRESCRIPT(&quot;/soap/ajax/40.0/connection.js&quot;)} 
{!REQUIRESCRIPT(&quot;/soap/ajax/40.0/apex.js&quot;)} 

var accountId = &apos;{!ANG_RHC_Information__c.ANG_AccountIdId__c}&apos;;

var result = sforce.apex.execute(&quot;ANG_RME_Alert_Service&quot;,&quot;requestProvisionalRHC&quot;,{accountId: accountId}); 

console.info(result[0]);

if(result[0].isSuccess == &quot;true&quot;){
window.location.reload();
}else{
alert(result[0].description);
}</url>
    </webLinks>
</CustomObject>
