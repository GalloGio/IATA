@isTest
public class SAP_Contract_Mock implements WebServiceMock {
    //*** variables used to build response
    public static List<String> lstContractNumber;

    public void doInvoke(Object stub,
                         Object request,
                         Map<String, Object> response,
                         String endpoint,
                         String soapAction,
                         String requestName,
                         String responseNS,
                         String responseName,
                         String responseType) {
        

        // Create response element from the autogenerated class.
        List<iataComXiSalesforceOtcWid5600Sales3.Response_element> lstResponseElement = new List<iataComXiSalesforceOtcWid5600Sales3.Response_element>();
        for (String returnContractNumber : lstContractNumber)
        {
            List<iataComXiSalesforceOtcWid5600Sales3.Return_element> lstReturnElement = new List<iataComXiSalesforceOtcWid5600Sales3.Return_element>();
            iataComXiSalesforceOtcWid5600Sales3.Return_element returnElement = new iataComXiSalesforceOtcWid5600Sales3.Return_element();
            returnElement.MsgId = 'V1';
            returnElement.Parameter = 'SALES_HEADER_IN';
            if (returnContractNumber == null)
            {
                returnElement.Type_x = 'E';
                returnElement.Message = 'Error';
            }
            else
            {
                returnElement.Type_x = 'S';
                returnElement.Message = 'Contract ' + returnContractNumber + ' has been saved';
            }
            lstReturnElement.add(returnElement);

            iataComXiSalesforceOtcWid5600Sales3.Response_element responseElement = new iataComXiSalesforceOtcWid5600Sales3.Response_element();
            responseElement.Return_x = lstReturnElement;
            
            lstResponseElement.add(responseElement);
        }

        iataComXiSalesforceOtcWid5600Sales3.DT_SalesContract_RES salesContract_res = new iataComXiSalesforceOtcWid5600Sales3.DT_SalesContract_RES();
        salesContract_res.Response = lstResponseElement;
        // Populate response element.
        // Add response element to the response parameter, as follows:
        response.put('response_x', salesContract_res); 
    }
}